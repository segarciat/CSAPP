# Exercise 11.10

A. Write an HTML form for the CGI `adder` function in Figure 11.27. Your form should include
two text boxes that users fill in with the two arguments. Your form should request content
using the GET method.

B. Check your work by using a real browser to request the form from *Tiny*, submit the filled-in
form to *Tiny*, and then display the dynamic content generated by `adder`.

## Solution

The starting point is the ending code for Practice Problem 11.9.

I created `adder.html`, which the user can access at `/adder.html`: 

```html
<html>
<head><title>Adder | Tiny Web Server</title></head>
<body> 
	<form action="/cgi-bin/adder" method="get">
		<div>
			<label for="n1"> First number: </label>
			<input type="number" name="n1" id="n1" required />
		</div>
		<div>
			<label for="n2"> Second number: </label>
			<input type="number" name="n2" id="n2" required />
		</div>
		<div>
			<input type="submit" value="Submit" />
		<div/>
	</form>
</body>
</html>
```

Notice that the form inputs are named `n1` and `n2`, respectively. I set the form action to 
`/cgi-bin/adder`, and the method to `get`. If the form is submitted with, say, `3` and `7`,
the client will be redirected to `/cgi-bin/adder?n1=3&n2=7`.

Since the format of the query parameters has changed, I modified the `adder.c` CGI program to
parse correctly:

```c
    if ((buf = getenv("QUERY_STRING")) != NULL) {
		p = strchr(buf, '&');
		*p = '\0';
		strcpy(arg1, buf);
		strcpy(arg2, p+1);

		p = strchr(arg1, '=');
		n1 = atoi(p + 1);

		p = strchr(arg2, '=');
		n2 = atoi(p + 1);
    }
```

In particular, note the `strchr(arg1, '=')` and `strchr(arg2, '=')` calls that are needed to
parse the numbers that follow the equal sign.
